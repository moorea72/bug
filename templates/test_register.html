<!DOCTYPE html>
<html>
<head>
    <title>Test Registration</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 50px; }
        form { max-width: 400px; }
        input, button { width: 100%; padding: 10px; margin: 5px 0; }
        button { background: #007bff; color: white; border: none; cursor: pointer; }
        .error { color: red; margin: 10px 0; }
        .success { color: green; margin: 10px 0; }
    </style>
</head>
<body>
    <h2>Test Registration</h2>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="{{ 'success' if category == 'success' else 'error' }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
    <form method="POST">
        {{ form.hidden_tag() }}
        
        <label>Username:</label>
        {{ form.username }}
        {% if form.username.errors %}
            {% for error in form.username.errors %}
                <div class="error">{{ error }}</div>
            {% endfor %}
        {% endif %}
        
        <label>Email:</label>
        {{ form.email }}
        {% if form.email.errors %}
            {% for error in form.email.errors %}
                <div class="error">{{ error }}</div>
            {% endfor %}
        {% endif %}
        
        <label>Phone Number:</label>
        {{ form.phone_number }}
        {% if form.phone_number.errors %}
            {% for error in form.phone_number.errors %}
                <div class="error">{{ error }}</div>
            {% endfor %}
        {% endif %}
        
        <label>Password:</label>
        {{ form.password }}
        {% if form.password.errors %}
            {% for error in form.password.errors %}
                <div class="error">{{ error }}</div>
            {% endfor %}
        {% endif %}
        
        <label>Confirm Password:</label>
        {{ form.password2 }}
        {% if form.password2.errors %}
            {% for error in form.password2.errors %}
                <div class="error">{{ error }}</div>
            {% endfor %}
        {% endif %}
        
        <label>Referral Code (Optional):</label>
        {{ form.referral_code }}
        
        <button type="submit">Register</button>
    </form>
    
    <p><a href="/login">Go to Login</a></p>
</body>
</html>